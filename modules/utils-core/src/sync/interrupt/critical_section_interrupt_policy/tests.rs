use super::CriticalSectionInterruptPolicy;
use crate::sync::{SharedError, interrupt::InterruptContextPolicy};

#[test]
fn critical_section_interrupt_policy_check_blocking_allowed() {
  // interrupt-cortex-m feature????????Ok???
  let result = CriticalSectionInterruptPolicy::check_blocking_allowed();
  // feature?????????????????????????????
  assert!(result.is_ok() || matches!(result, Err(SharedError::InterruptContext)));
}

#[test]
fn critical_section_interrupt_policy_is_struct() {
  // ????????????????????????????
  fn assert_exists(_: &CriticalSectionInterruptPolicy) {}
  // ???????????????????????????????
  assert_exists(&CriticalSectionInterruptPolicy);
}
