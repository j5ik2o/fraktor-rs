## Why
現在の `modules/actor-core/src` は約107個のモジュールファイルがフラットに配置されており、以下の問題が発生している：
- モジュール間の関係性が不明瞭で、新規開発者の理解が困難
- 内部実装の詳細（`actor_ref_impl.rs` 等）が公開APIと同列に配置され、カプセル化が不十分
- 機能ごとの境界が曖昧で、保守性とテスタビリティが低下
- 参照実装（Pekko/ProtoActor-Go）との構造的乖離により、設計意図の把握が難しい

階層的なパッケージ構造に移行することで、コードベースの可読性・保守性を向上させ、将来的な機能拡張への対応を容易にする。

## What Changes
- `modules/actor-core/src` のフラットな構造を、11個の論理的なパッケージに階層化する
- 主要な変更点：
  1. **`actor/` パッケージ**: アクタープリミティブを集約（従来の`core`を`actor`に改名し、参照実装に合わせる）
  2. **`actor/internal/` サブパッケージ**: 内部実装の詳細を隠蔽（`actor_ref_impl.rs` 等）
  3. **`eventstream/` パッケージ**: トップレベル化（Pekko/ProtoActorに倣う）
  4. **`props/` + `spawn/` パッケージ**: アクター生成の設定と実行を分離
  5. **`error/` パッケージ**: エラー型を集約
  6. その他の機能別パッケージ: `messaging/`, `mailbox/`, `supervision/`, `system/`, `lifecycle/`, `deadletter/`, `logging/`, `futures/`
- `pub(crate)` と `internal/` を活用した可視性制御の強化
- `prelude.rs` モジュールによる便利な再エクスポート機能の追加
- 後方互換性を維持するため、`lib.rs` で既存の公開APIを再エクスポート

## Impact
- **既存コードへの影響**: 後方互換性を維持するため、既存のインポートパスは引き続き動作する
- **新規開発**: より明確なパッケージ構造により、コードの配置場所が自明になる
- **保守性**: 機能ごとの境界が明確になり、変更の影響範囲が限定される
- **ドキュメント**: パッケージレベルのドキュメントにより、APIの理解が容易になる
- **内部実装の隠蔽**: `pub(crate)` と `internal/` により、外部に公開すべきでない実装詳細を保護

## Scope
### Goals
1. 参照実装（Pekko/ProtoActor-Go）に倣った命名規則とパッケージ構造の採用
2. 内部実装の詳細を `actor/internal/` に隠蔽し、APIの境界を明確化
3. 各パッケージの責務を明確にし、依存関係を整理
4. 後方互換性を維持しながら段階的に移行できる構造の確立
5. `prelude.rs` による便利な再エクスポート機能の提供
6. 各パッケージのドキュメント充実化

### Non-Goals
- 公開APIの変更や機能追加は行わない
- 破壊的変更は導入しない（既存コードはすべて動作し続ける）
- パフォーマンスチューニングは対象外
- 新機能の追加は別提案で扱う

## Rollout Plan
### フェーズ1: ディレクトリ構造の作成とファイル移動（破壊的変更なし）
1. 新しいパッケージディレクトリの作成
2. 既存ファイルを適切なパッケージへ移動
3. 各パッケージの `mod.rs` 作成（サブモジュール宣言と再エクスポート）
4. 内部実装を `actor/internal/` へ移動
5. `lib.rs` の更新（既存APIの再エクスポートによる後方互換性維持）
6. テストファイルの対応するパッケージへの移動

### フェーズ2: ビルドとテストの検証
1. `cargo build --all-features` によるビルド検証
2. `cargo test` による全テスト実行
3. `cargo clippy` による静的解析チェック
4. `cargo doc --no-deps` によるドキュメント生成確認

### フェーズ3: ドキュメントとPreludeの整備
1. 各パッケージのモジュールレベルドキュメント追加
2. 使用例の追加
3. `prelude.rs` の作成（よく使う型の集約）
4. マイグレーションガイドの作成（新旧インポートパスの対応表）

## Risks & Mitigations
- **リスク**: ファイル移動によるテスト破損
  - **緩和策**: 各移動後に段階的にビルド・テストを実行し、問題を早期発見
- **リスク**: ビルド時間の増加
  - **緩和策**: パッケージ分割により並列ビルドの最適化が期待できる
- **リスク**: 内部実装の可視性変更による意図しないAPI変更
  - **緩和策**: `lib.rs` での再エクスポートにより既存の公開APIを完全に維持
- **リスク**: マージコンフリクトの発生
  - **緩和策**: 早期に実施し、他の変更との依存を最小化

## Impacted APIs / Modules
- `modules/actor-core/src` 全体（約107ファイル）
- すべての内部モジュール構造
- `lib.rs` の再エクスポート宣言
- パッケージのドキュメント構造

**注**: 公開APIそのものは変更されないため、外部からの利用方法に影響はない。

## References
- [Pekko Actor](https://github.com/apache/pekko) - `actor/` ディレクトリ構造、`dungeon/` による内部実装の隠蔽
- [ProtoActor-Go](https://github.com/asynkron/protoactor-go) - フラット構造からトップレベルパッケージへの整理
- Rust API Guidelines - モジュール構成とpreludeパターン
